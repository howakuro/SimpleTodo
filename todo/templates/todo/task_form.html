{% extends "todo/base.html" %}

{% block main %}
    <main>
        <div class="container mt-5">
                {% if not form.instance.pk %}
                    <h3 class="m-3"><b>Append Task</b></h3>
                {% else %}
                    <h3 class="m-3"><b>Edit Task</b></h3>
                {% endif %}
                <form method="post" enctype="multipart/form-data" action="">
                    {% csrf_token %}
                    <div class="state">
                        {{ form.state.errors }}
                        <label for="{{ form.state.id_for_label }}">State:</label>
                        {{ form.state }}
                    </div>
                    <div class="task py-3">
                        {{ form.state.errors }}
                        <label for="{{ form.task.id_for_label }}">Task:</label>
                        {{ form.task }}
                    </div>    
                    <div class="deadline py-3">
                        {{ form.deadline.errors }}
                        <label for="{{ form.deadline.id_for_label }}">Limit:</label>
                        {{ form.deadline }}
                    </div>
                    {% comment %} {{ form.as_p }} {% endcomment %}
                    <div class="form-group" style="padding:20px 0">
                        {% if not form %}
                            <input type="submit" value="Append" class="btn btn-primary"/>
                        {% else %}
                            <input type="submit" value="Edit" class="btn btn-primary"/>
                        {% endif %}
                    </div>
                </form>
        </div>
    </main>
    {% load static %}
        <link rel="stylesheet" href="{% static 'todo/task_form.css' %}">
        <script src="{% static 'todo/task_form.js' %}"></script>
{% endblock %}